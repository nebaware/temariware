<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>TemariWare - Student Ecosystem</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#14F195',
            secondary: '#9945FF',
            dark: '#0f172a',
            card: '#1e293b',
            accent: '#F59E0B',
          }
        }
      }
    }
  </script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="bg-black text-white">
  <div class="min-h-screen bg-black text-white p-4">
    <div class="max-w-md mx-auto">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-primary mb-2">TemariWare</h1>
        <p class="text-gray-400">Student Ecosystem Platform</p>
      </div>

      <!-- User Info -->
      <div class="bg-gray-800 rounded-lg p-4 mb-6">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center text-black font-bold">
            DU
          </div>
          <div>
            <h2 class="font-bold">Demo User</h2>
            <p class="text-sm text-gray-400">Level 1 Student</p>
          </div>
        </div>
        <div class="bg-gray-700 rounded p-3">
          <p class="text-sm text-gray-400">Wallet Balance</p>
          <p class="text-xl font-bold text-primary">1,250 ETB</p>
        </div>
      </div>

      <!-- Login/Register Buttons -->
      <div id="auth-buttons" class="mb-6 space-y-3">
        <button onclick="showLogin()" class="w-full bg-blue-600 hover:bg-blue-700 p-4 rounded-lg font-bold transition-colors">
          Login to Access Features
        </button>
        <button onclick="showRegister()" class="w-full bg-green-600 hover:bg-green-700 p-4 rounded-lg font-bold transition-colors">
          Register New Account
        </button>
      </div>

      <!-- Quick Actions -->
      <div class="grid grid-cols-2 gap-4 mb-6">
        <button onclick="showJobs()" class="bg-green-600 hover:bg-green-700 p-4 rounded-lg text-center transition-colors">
          <div class="text-2xl mb-2">üíº</div>
          <div class="font-bold">Jobs</div>
          <div class="text-xs text-green-200">Find Work</div>
        </button>
        
        <button onclick="showCourses()" class="bg-blue-600 hover:bg-blue-700 p-4 rounded-lg text-center transition-colors">
          <div class="text-2xl mb-2">üìö</div>
          <div class="font-bold">Courses</div>
          <div class="text-xs text-blue-200">Learn Skills</div>
        </button>
        
        <button onclick="showWallet()" class="bg-purple-600 hover:bg-purple-700 p-4 rounded-lg text-center transition-colors">
          <div class="text-2xl mb-2">üí∞</div>
          <div class="font-bold">Wallet</div>
          <div class="text-xs text-purple-200">Manage Money</div>
        </button>
        
        <button onclick="showProfile()" class="bg-orange-600 hover:bg-orange-700 p-4 rounded-lg text-center transition-colors">
          <div class="text-2xl mb-2">üë§</div>
          <div class="font-bold">Profile</div>
          <div class="text-xs text-orange-200">Your Info</div>
        </button>
      </div>

      <!-- Stats -->
      <div class="grid grid-cols-3 gap-3 mb-6">
        <div class="bg-gray-800 p-3 rounded text-center">
          <div class="text-lg font-bold text-yellow-400">120</div>
          <div class="text-xs text-gray-400">XP/Hour</div>
        </div>
        <div class="bg-gray-800 p-3 rounded text-center">
          <div class="text-lg font-bold text-blue-400">5</div>
          <div class="text-xs text-gray-400">Streak</div>
        </div>
        <div class="bg-gray-800 p-3 rounded text-center">
          <div class="text-lg font-bold text-green-400">12</div>
          <div class="text-xs text-gray-400">Tasks</div>
        </div>
      </div>

      <!-- Daily Claim -->
      <div class="bg-gradient-to-r from-primary/20 to-blue-500/20 border border-primary/30 rounded-lg p-6 text-center mb-6">
        <div class="text-4xl mb-2">üéÅ</div>
        <h3 class="font-bold mb-2">Daily Reward</h3>
        <p class="text-sm text-gray-400 mb-4">Claim your daily bonus</p>
        <button class="bg-primary text-black px-6 py-2 rounded font-bold hover:bg-primary/90 transition-colors">
          Claim 150 ETB
        </button>
      </div>

      <!-- Telegram Bot Link -->
      <div class="bg-blue-900/50 border border-blue-500/30 rounded-lg p-4 text-center">
        <h4 class="font-bold mb-2">üì± Telegram Bot</h4>
        <p class="text-sm text-gray-400 mb-3">Access TemariWare from Telegram</p>
        <a href="https://t.me/temariwarebot" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-bold transition-colors inline-block">
          @temariwarebot
        </a>
      </div>

      <!-- Login Modal -->
      <div id="login-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-gray-800 p-6 rounded-lg max-w-sm w-full mx-4">
          <h3 class="text-xl font-bold mb-4 text-primary">Login to TemariWare</h3>
          <form onsubmit="handleLogin(event)">
            <div class="mb-4">
              <label class="block text-sm font-medium mb-2">Email</label>
              <input type="email" id="login-email" class="w-full p-3 bg-gray-700 rounded border border-gray-600 text-white" required>
            </div>
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2">Password</label>
              <input type="password" id="login-password" class="w-full p-3 bg-gray-700 rounded border border-gray-600 text-white" required>
            </div>
            <div class="flex space-x-3">
              <button type="submit" class="flex-1 bg-primary text-black py-3 rounded font-bold hover:bg-primary/90 transition-colors">Login</button>
              <button type="button" onclick="hideLogin()" class="flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded font-bold transition-colors">Cancel</button>
            </div>
          </form>
          <p class="mt-4 text-xs text-gray-400 text-center">Test: demo@temariware.com / demo123</p>
        </div>
      </div>

      <!-- Bottom Space -->
      <div class="h-20"></div>
    </div>
  </div>

  <script>
    function showLogin() {
      document.getElementById('login-modal').classList.remove('hidden');
    }
    
    function hideLogin() {
      document.getElementById('login-modal').classList.add('hidden');
    }
    
    function showRegister() {
      alert('Registration: Visit https://temariware-backend-omek.onrender.com/api/auth/register');
    }
    
    function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      
      fetch('https://temariware-backend-omek.onrender.com/api/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password })
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          localStorage.setItem('token', data.token);
          alert('‚úÖ Login successful! Welcome to TemariWare');
          hideLogin();
          updateAuthState();
        } else {
          alert('‚ùå Login failed: ' + (data.error || 'Invalid credentials'));
        }
      })
      .catch(err => {
        alert('‚ùå Login failed. Try: demo@temariware.com / demo123');
      });
    }
    
    function updateAuthState() {
      const token = localStorage.getItem('token');
      const authButtons = document.getElementById('auth-buttons');
      
      if (token) {
        authButtons.innerHTML = `
          <div class="bg-green-900/50 border border-green-500/30 rounded-lg p-3 text-center">
            <span class="text-green-400 font-bold">‚úÖ Logged In</span>
            <button onclick="logout()" class="ml-3 bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition-colors">Logout</button>
          </div>
        `;
      }
    }
    
    function logout() {
      localStorage.removeItem('token');
      location.reload();
    }
    
    function showJobs() {
      const token = localStorage.getItem('token');
      if (!token) {
        alert('üîí Please login first to view jobs');
        showLogin();
        return;
      }
      
      fetch('https://temariware-backend-omek.onrender.com/api/jobs', {
        headers: { 'Authorization': `Bearer ${token}` }
      })
      .then(res => res.json())
      .then(data => {
        if (data.success && data.jobs) {
          let jobsText = 'üíº Available Jobs:\n\n';
          data.jobs.forEach(job => {
            jobsText += `‚Ä¢ ${job.title} - ${job.company}\n  üìç ${job.location} | üí∞ ${job.salary}\n\n`;
          });
          alert(jobsText || 'No jobs available');
        } else {
          alert('üíº Jobs feature available via API');
        }
      })
      .catch(() => alert('üíº Jobs: Use Telegram bot @temariwarebot'));
    }
    
    function showWallet() {
      const token = localStorage.getItem('token');
      if (!token) {
        alert('üîí Please login first to view wallet');
        showLogin();
        return;
      }
      
      alert('üí∞ Wallet Balance: 1,250 ETB\nüìä Total Earned: 2,500 ETB\nüìà This Month: +450 ETB');
    }
    
    function showCourses() {
      fetch('https://temariware-backend-omek.onrender.com/api/courses')
      .then(res => res.json())
      .then(courses => {
        if (courses && courses.length > 0) {
          let coursesText = 'üìö Available Courses:\n\n';
          courses.forEach(course => {
            coursesText += `‚Ä¢ ${course.title || course.name}\n  ${course.description || 'Course description'}\n\n`;
          });
          alert(coursesText);
        } else {
          alert('üìö No courses available yet. Check back soon!');
        }
      })
      .catch(() => alert('üìö Courses: Use Telegram bot @temariwarebot'));
    }
    
    function showProfile() {
      const token = localStorage.getItem('token');
      if (!token) {
        alert('üîí Please login first to view profile');
        showLogin();
        return;
      }
      
      alert('üë§ Profile:\n\nName: Demo User\nLevel: 1\nXP: 120\nProfile Strength: 75%\nStreak: 5 days');
    }
    
    // Check login state on load
    window.onload = function() {
      updateAuthState();
    };
  </script>
</body>
</html>